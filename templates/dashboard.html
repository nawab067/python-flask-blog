{% extends "layout.html" %}
{% block body %}
<!-- Page Header -->
<header class="masthead" style="background-image: url('{{ url_for('static',filename='assets/img/admin.jpg')}} ')">
    <div class="container position-relative px-4 px-lg-5">
        <div class="row gx-4 gx-lg-5 justify-content-center">
            <div class="col-md-10 col-lg-8 col-xl-7">
                <div class="site-heading">
                    <h1>Admin Panel</h1>
                    <span class="subheading">Manage your posts and edit them</span>
                </div>
            </div>
        </div>
    </div>
</header>

<!-- Main Content -->
<div class="container px-4 px-lg-5">
    <div class="row gx-4 gx-lg-5 justify-content-center">
        <div class="col-md-10 col-lg-8 col-xl-7">
            <h2>Basic Actions</h2>
            <a href="/add"><button class="btn btn-primary text-uppercase">Add a New Post</button></a>
            <a href="/logout"><button class="btn btn-primary text-uppercase">Log Out</button></a>
            <hr>

            <!-- File Upload Section -->
            <h2>Upload a File</h2>
            <div>
                <form action="/uploader" method="post" enctype="multipart/form-data">
                    <input type="file" name="file1">
                    <button type="submit" class="btn btn-primary text-uppercase">Submit</button>
                </form> 
            </div>

            <hr>

            <!-- Edit Post Section -->
            <h2>Edit Post</h2>
            <table class="table table-hover">
                <thead>
                    <tr>
                        <th>S. No</th>
                        <th>Title</th>
                        <th>Date</th>
                        <th>Edit</th>
                        <th>Delete</th>
                    </tr>
                </thead>
                <tbody>
                    {% for post in posts %}
                    <tr>
                        <td>{{ post.srno }}</td>
                        <td>{{ post.title }}</td>
                        <td>{{ post.date }}</td>
                        <td><a href="/edit/{{ post.srno }}"><button class="btn btn-primary text-uppercase">Edit</button></a></td>
                        <td>
                            <a href="/delete/{{ post.srno }}" onclick="return confirm('Are you sure you want to delete this post?');">
                                <button class="btn btn-danger text-uppercase">Delete</button>
                            </a>
                        </td>
                    </tr>
                    {% endfor %}
                </tbody>
            </table>
        </div>
    </div>
</div>

{% endblock %}
